<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>
<body>

    <%- include('partials/header') %>
    <%- include('partials/navbar') %>

    <main>
        <!-- Image Slider Section -->
        <section class="hero-slider">
            <div class="slides">
                <div class="slide active" style="background-image: url('https://picsum.photos/1200/400?random=1');">
                    <div class="slide-content">
                        <h2>Ensuring Safe Water for Everyone</h2>
                    </div>
                </div>
                <div class="slide" style="background-image: url('https://picsum.photos/1200/400?random=2');">
                    <div class="slide-content">
                        <h2>Advanced Pipeline Systems</h2>
                    </div>
                </div>
                <div class="slide" style="background-image: url('https://picsum.photos/1200/400?random=3');">
                    <div class="slide-content">
                        <h2>Sustainable Water Management</h2>
                    </div>
                </div>
            </div>
            <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
            <button class="next" onclick="moveSlide(1)">&#10095;</button>
        </section>

        <!-- Attractive Messages Section -->
        <section class="awareness-section">
            <div class="message-container">
                <h3><i class="fas fa-bullhorn"></i> Awareness</h3>
                <p id="dynamic-message"><%= messages[0] %></p>
            </div>
        </section>

        <!-- Notices Section -->
        <section class="notices-section">
            <h3><i class="fas fa-bell"></i> Important Notices & Announcements</h3>
            <div class="notices-grid">
                <% if (notices && notices.length > 0) { %>
                    <% notices.forEach(notice => { %>
                        <div class="notice-card">
                            <div class="notice-date"><%= notice.date %></div>
                            <h4><%= notice.title %></h4>
                            <p><%= notice.content %></p>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p>No new notices at this time.</p>
                <% } %>
            </div>
        </section>
    </main>

    <%- include('partials/footer') %>

    <script>
        // Pass messages to client-side JS
        const clientMessages = <%- JSON.stringify(messages) %>;
    </script>
    <script src="/js/script.js"></script>
</body>
</html>