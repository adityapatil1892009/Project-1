<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>
<body>
    <%- include('partials/header') %>
    <%- include('partials/navbar') %>

    <main class="container" style="padding: 40px 20px; max-width: 1200px; margin: 0 auto;">
        <div style="margin-bottom: 20px;">
            <h2 style="color: var(--primary-blue); border-bottom: 2px solid var(--secondary-blue); padding-bottom: 10px; margin-bottom: 10px;">Water Supply Schedules</h2>
            <p style="color: #666; font-size: 14px;">View water supply timings for different areas of Pune</p>
        </div>
        
        <div style="margin-bottom: 30px;">
            <input type="text" placeholder="Search by area or zone..." style="width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px;">
        </div>

        <div class="schedule-container" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">
            <% if (schedule) { %>
                <% Object.entries(schedule).forEach(([area, details]) => { 
                    const status = details.status || 'Active';
                    const timing = details.timing || details;
                    const duration = details.duration || '';
                    const zone = details.zone || '';
                    const statusColor = status === 'Active' ? '#10B981' : status === 'Interrupted' ? '#EF4444' : '#93C5FD';
                    const statusBg = status === 'Active' ? '#D1FAE5' : status === 'Interrupted' ? '#FEE2E2' : '#DBEAFE';
                %>
                    <div style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-left: 4px solid var(--primary-blue);">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="color: var(--dark-blue); margin: 0 0 5px 0; font-size: 18px;"><%= area %></h3>
                                <p style="color: #666; margin: 0; font-size: 12px;"><%= zone %></p>
                            </div>
                            <span style="background-color: <%= statusBg %>; color: <%= statusColor %>; padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 600; white-space: nowrap;">
                                <%= status %>
                            </span>
                        </div>
                        
                        <div style="display: flex; align-items: center; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #f0f0f0;">
                            <span style="color: var(--primary-blue); margin-right: 10px; font-size: 18px;">üïê</span>
                            <div>
                                <p style="margin: 0; font-size: 12px; color: #999;">Timing</p>
                                <p style="margin: 0; font-size: 14px; font-weight: 600; color: var(--dark-blue);"><%= timing %></p>
                            </div>
                        </div>
                        
                        <div style="display: flex; align-items: center;">
                            <span style="color: var(--primary-blue); margin-right: 10px; font-size: 18px;">üìÖ</span>
                            <div>
                                <p style="margin: 0; font-size: 12px; color: #999;">Duration</p>
                                <p style="margin: 0; font-size: 14px; font-weight: 600; color: var(--dark-blue);"><%= duration %></p>
                            </div>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <div style="grid-column: 1 / -1; padding: 40px; text-align: center; color: #999;">
                    <p>No schedule information available.</p>
                </div>
            <% } %>
        </div>
    </main>

    <%- include('partials/footer') %>
</body>
</html>